{% extends "base.html" %}

{% block title %}The Journey Association - Authentic Cultural Experiences & Traditional Adventures{% endblock %}

{% block og_title %}The Journey Association - Authentic Cultural Experiences & Traditional Adventures{% endblock %}
{% block og_description %}Discover authentic Morocco through premium cultural experiences, traditional workshops, and heritage adventures. Where ancient traditions meet modern journeys.{% endblock %}

{% block content %}
<!-- Modern Travel App Hero -->
<section class="hero-section text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <div class="badge bg-warning bg-opacity-25 text-warning mb-4 p-2 px-3 rounded-pill">
                        <i class="bi bi-star me-1"></i> Authentic Cultural Experiences
                    </div>
                    <h1 class="display-4 fw-bold mb-4" style="font-family: var(--font-family-display); line-height: 1.2;">
                        Discover Authentic Morocco
                    </h1>
                    <p class="lead mb-4 opacity-75">
                        Connect with local communities, learn traditional crafts, and experience Morocco's rich cultural heritage through immersive adventures.
                    </p>
                    
                    <div class="d-flex flex-column flex-sm-row gap-3 mb-4">
                        <a href="{{ url_for('events') }}" class="btn btn-warning btn-lg px-4 py-3 fw-semibold">
                            <i class="bi bi-compass me-2"></i>Explore Experiences
                        </a>
                        <a href="{{ url_for('clubs') }}" class="btn btn-outline-light btn-lg px-4 py-3">
                            <i class="bi bi-people me-2"></i>Join Communities
                        </a>
                    </div>
                    
                    <div class="d-flex align-items-center gap-4 small opacity-75">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-shield-check me-2"></i>
                            <span>Verified Experiences</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-people me-2"></i>
                            <span>Local Communities</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-heart me-2"></i>
                            <span>Cultural Heritage</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image text-center">
                    <div class="position-relative">
                        <div class="bg-white bg-opacity-25 rounded-3 p-4">
                            <div class="row g-3">
                                <div class="col-6">
                                    <div class="bg-warning bg-opacity-25 rounded-2 p-3 text-center">
                                        <i class="bi bi-palette fs-2 text-warning"></i>
                                        <div class="mt-2 small">Traditional Arts</div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="bg-success bg-opacity-25 rounded-2 p-3 text-center">
                                        <i class="bi bi-music-note-beamed fs-2 text-success"></i>
                                        <div class="mt-2 small">Cultural Music</div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="bg-danger bg-opacity-25 rounded-2 p-3 text-center">
                                        <i class="bi bi-cup-hot fs-2 text-danger"></i>
                                        <div class="mt-2 small">Culinary Arts</div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="bg-info bg-opacity-25 rounded-2 p-3 text-center">
                                        <i class="bi bi-people fs-2 text-info"></i>
                                        <div class="mt-2 small">Communities</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="search-container mx-auto" style="max-width: 800px;">
            <div class="search-bar">
                <div class="row g-3">
                    <div class="col-md-3">
                        <div class="search-field">
                            <label>Destination</label>
                            <select class="form-select">
                                <option>All Cities</option>
                                <option>Marrakech</option>
                                <option>Fes</option>
                                <option>Casablanca</option>
                                <option>Chefchaouen</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="search-field">
                            <label>Experience Type</label>
                            <select class="form-select">
                                <option>All Types</option>
                                <option>Traditional Crafts</option>
                                <option>Cultural Heritage</option>
                                <option>Community Events</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="search-field">
                            <label>When</label>
                            <input type="date" class="form-control" placeholder="Select date">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <button class="search-btn w-100 h-100" style="margin-top: 1.5rem;">
                            <i class="bi bi-search me-2"></i>Search
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Cultural Experiences Section -->
<section class="py-5 bg-light moroccan-pattern">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3 text-gradient">Authentic Cultural Experiences</h2>
            <p class="lead text-muted">Immerse yourself in Morocco's living heritage through traditional activities and cultural celebrations</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--mint-tea-green), var(--oasis-green));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-tree text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge sustainable">
                                <i class="bi bi-leaf"></i> Traditional Crafts
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Artisan Workshops</h4>
                        <p class="card-text">
                            Learn traditional Moroccan crafts from master artisans. Experience pottery making, 
                            carpet weaving, leather working, and zellige tile creation in authentic workshops.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-success bg-opacity-10 text-success me-2 mb-2">Pottery</span>
                            <span class="badge bg-success bg-opacity-10 text-success me-2 mb-2">Weaving</span>
                            <span class="badge bg-success bg-opacity-10 text-success mb-2">Zellige</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--secondary), var(--moroccan-gold));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-music-note-beamed text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge cultural">
                                <i class="bi bi-palette"></i> Heritage
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Cultural Festivals</h4>
                        <p class="card-text">
                            Celebrate Morocco's vibrant traditions through authentic festivals featuring 
                            traditional music, dance, storytelling, and cultural performances by local artists.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-warning bg-opacity-10 text-warning me-2 mb-2">Music</span>
                            <span class="badge bg-warning bg-opacity-10 text-warning me-2 mb-2">Dance</span>
                            <span class="badge bg-warning bg-opacity-10 text-warning mb-2">Stories</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--danger), var(--warning));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-people text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge entertainment">
                                <i class="bi bi-people"></i> Community
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Traditional Cuisine</h4>
                        <p class="card-text">
                            Discover the secrets of Moroccan cuisine through hands-on cooking classes, 
                            spice market tours, and traditional tea ceremonies with local families.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-danger bg-opacity-10 text-danger me-2 mb-2">Cooking</span>
                            <span class="badge bg-danger bg-opacity-10 text-danger me-2 mb-2">Spices</span>
                            <span class="badge bg-danger bg-opacity-10 text-danger mb-2">Tea Ceremony</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Experiences -->
{% if events %}
<section class="py-5">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">Featured Experiences</h2>
                <p class="lead text-muted">Discover authentic cultural adventures happening near you</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{{ url_for('events') }}" class="btn btn-primary btn-lg">
                    View All Experiences <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
        
        <div class="row g-4">
            {% for event in events[:3] %}
            <div class="col-lg-4 col-md-6">
                <div class="travel-card" style="cursor: pointer;" onclick="window.location.href='{{ url_for('event_detail', event_id=event.id) }}';">
                    <div class="travel-card-image">
                        <img src="https://images.unsplash.com/photo-1539650116574-75c0c6d73f6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                             alt="{{ event.title }}" loading="lazy">
                        <div class="travel-card-price">
                            {% if event.price > 0 %}
                                ${{ "%.0f"|format(event.price) }}
                            {% else %}
                                Free
                            {% endif %}
                        </div>
                        <div class="travel-card-category bg-primary text-white">
                            {% if event.category == 'sustainable' %}
                                Traditional Crafts
                            {% elif event.category == 'cultural' %}
                                Cultural Heritage
                            {% else %}
                                Community Event
                            {% endif %}
                        </div>
                    </div>
                    <div class="travel-card-body">
                        <h5 class="travel-card-title">{{ event.title }}</h5>
                        <div class="travel-card-location">
                            <i class="bi bi-geo-alt"></i>
                            <span>{{ event.city }}, Morocco</span>
                        </div>
                        <p class="travel-card-description">{{ event.description[:100] }}...</p>
                        <div class="travel-card-footer">
                            <div class="travel-card-rating">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-calendar-event me-1"></i>
                                    <span>{{ event.date_time.strftime('%b %d') }}</span>
                                </div>
                            </div>
                            <div class="travel-card-spots">
                                {{ event.available_spots }} spots left
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Destinations Section -->
<section class="py-5 bg-gradient-primary text-white">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Explore Morocco's Hidden Gems</h2>
            <p class="lead opacity-90">Discover authentic experiences in Morocco's most enchanting destinations</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-building-check text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Marrakech Medina</h5>
                    <p class="opacity-90">Experience the bustling souks, traditional riads, and ancient palaces of the Red City</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-water text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Chefchaouen</h5>
                    <p class="opacity-90">Wander through the blue-painted streets and discover mountain Berber culture</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-mortarboard text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Fes El Bali</h5>
                    <p class="opacity-90">Explore the world's largest car-free urban area and ancient Islamic learning centers</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-sun text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Sahara Desert</h5>
                    <p class="opacity-90">Experience nomadic traditions, camel trekking, and stargazing in golden dunes</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Cultural Communities -->
{% if clubs %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">Cultural Communities</h2>
                <p class="lead text-muted">Join passionate groups preserving Morocco's rich cultural traditions</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{{ url_for('clubs') }}" class="btn btn-outline-primary btn-lg">
                    Explore Communities <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
        
        <div class="row g-4">
            {% for club in clubs[:3] %}
            <div class="col-lg-4">
                <div class="travel-card" style="cursor: pointer;" onclick="window.location.href='{{ url_for('club_detail', club_id=club.id) }}';">
                    <div class="travel-card-image">
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                             alt="{{ club.name }}" loading="lazy">
                        <div class="travel-card-category bg-success text-white">
                            {% if club.category == 'sustainable' %}
                                Traditional Arts
                            {% elif club.category == 'cultural' %}
                                Cultural Heritage
                            {% else %}
                                Community
                            {% endif %}
                        </div>
                    </div>
                    <div class="travel-card-body">
                        <h5 class="travel-card-title">{{ club.name }}</h5>
                        <div class="travel-card-location">
                            <i class="bi bi-geo-alt"></i>
                            <span>{{ club.city }}, Morocco</span>
                        </div>
                        <p class="travel-card-description">{{ club.description[:100] }}...</p>
                        <div class="travel-card-footer">
                            <div class="travel-card-rating">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-people me-1"></i>
                                    <span>Community</span>
                                </div>
                            </div>
                            <div class="text-primary fw-semibold">
                                Join Now
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Testimonials Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3 text-gradient">Stories from Our Community</h2>
            <p class="lead text-muted">Discover how authentic Moroccan experiences have touched the lives of our members</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"Learning traditional pottery from a master craftsman in Fes was transformative. The connection to centuries-old traditions gave me a profound appreciation for Moroccan artistry."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Amira Hassan</h6>
                                <small class="text-muted">Cultural Arts Enthusiast</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"The traditional cooking class opened my eyes to the rich history behind every spice and technique. Now I can recreate authentic Moroccan flavors at home."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-success rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Carlos Rodriguez</h6>
                                <small class="text-muted">Culinary Heritage Explorer</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"Joining the storytelling circle introduced me to ancient Moroccan tales and connected me with a community that values preserving cultural heritage."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-warning rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Fatima Al-Zahra</h6>
                                <small class="text-muted">Heritage Storyteller</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5 bg-gradient-secondary text-dark">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-4">Begin Your Authentic Moroccan Journey</h2>
                <p class="lead mb-4">
                    Join thousands of culture enthusiasts discovering the authentic beauty of Morocco 
                    through traditional experiences, community connections, and heritage celebrations.
                </p>
                <div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg px-4">
                            <i class="bi bi-compass me-2"></i>Start Your Cultural Journey
                        </a>
                        <a href="{{ url_for('events') }}" class="btn btn-outline-dark btn-lg px-4">
                            <i class="bi bi-calendar-event me-2"></i>Browse Cultural Events
                        </a>
                    {% else %}
                        <a href="{{ url_for('create_club') }}" class="btn btn-primary btn-lg px-4">
                            <i class="bi bi-plus-circle me-2"></i>Create a Cultural Club
                        </a>
                        <a href="{{ url_for('create_event') }}" class="btn btn-outline-dark btn-lg px-4">
                            <i class="bi bi-calendar-plus me-2"></i>Host an Experience
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}