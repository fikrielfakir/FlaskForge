{% extends "base.html" %}

{% block title %}Moroccan Journey - Authentic Cultural Experiences & Traditional Adventures{% endblock %}

{% block og_title %}Moroccan Journey - Authentic Cultural Experiences & Traditional Adventures{% endblock %}
{% block og_description %}Discover authentic Morocco through premium cultural experiences, traditional workshops, and heritage adventures. Where ancient traditions meet modern journeys.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-video-container">
    <!-- Video Background -->
    <div class="video-background">
        <iframe 
            src="https://www.youtube.com/embed/XgDy60Rr0AM?autoplay=1&mute=1&loop=1&playlist=XgDy60Rr0AM&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1"
            title="Background video"
            frameborder="0" 
            allow="autoplay; encrypted-media" 
            allowfullscreen
            aria-hidden="true">
        </iframe>
    </div>
    
    <!-- Hero Content -->
    <div class="hero-overlay">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-lg-8">
                    <div class="hero-content fade-in-up">
                        <div class="hero-badge mb-4">
                            <span class="badge-text">Authentic Cultural Experiences</span>
                        </div>
                        <h1 class="hero-title mb-4">
                            MOROCCAN JOURNEY
                        </h1>
                        <p class="hero-subtitle mb-5">
                            Where Ancient Traditions Meet Modern Adventures
                        </p>
                        
                        <!-- Dual CTA Buttons -->
                        <div class="hero-cta d-flex flex-column flex-md-row gap-3 justify-content-center">
                            <a href="{{ url_for('events') }}" class="btn btn-hero btn-lg px-5 py-3">
                                Start Your Journey
                            </a>
                            <a href="{{ url_for('clubs') }}" class="btn btn-hero-secondary btn-lg px-5 py-3">
                                Explore Experiences
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Decorative Pattern -->
    <div class="hero-pattern"></div>
</section>

<!-- Dune Divider -->
<div class="dune-divider"></div>

<!-- Cultural Experiences Section -->
<section class="py-5 bg-light moroccan-pattern">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3 text-gradient">Authentic Cultural Experiences</h2>
            <p class="lead text-muted">Immerse yourself in Morocco's living heritage through traditional activities and cultural celebrations</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--mint-tea-green), var(--oasis-green));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-tree text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge sustainable">
                                <i class="bi bi-leaf"></i> Traditional Crafts
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Artisan Workshops</h4>
                        <p class="card-text">
                            Learn traditional Moroccan crafts from master artisans. Experience pottery making, 
                            carpet weaving, leather working, and zellige tile creation in authentic workshops.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-success bg-opacity-10 text-success me-2 mb-2">Pottery</span>
                            <span class="badge bg-success bg-opacity-10 text-success me-2 mb-2">Weaving</span>
                            <span class="badge bg-success bg-opacity-10 text-success mb-2">Zellige</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--secondary), var(--moroccan-gold));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-music-note-beamed text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge cultural">
                                <i class="bi bi-palette"></i> Heritage
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Cultural Festivals</h4>
                        <p class="card-text">
                            Celebrate Morocco's vibrant traditions through authentic festivals featuring 
                            traditional music, dance, storytelling, and cultural performances by local artists.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-warning bg-opacity-10 text-warning me-2 mb-2">Music</span>
                            <span class="badge bg-warning bg-opacity-10 text-warning me-2 mb-2">Dance</span>
                            <span class="badge bg-warning bg-opacity-10 text-warning mb-2">Stories</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 250px; background: linear-gradient(45deg, var(--danger), var(--warning));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <i class="bi bi-people text-white" style="font-size: 4rem; opacity: 0.8;"></i>
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge entertainment">
                                <i class="bi bi-people"></i> Community
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Traditional Cuisine</h4>
                        <p class="card-text">
                            Discover the secrets of Moroccan cuisine through hands-on cooking classes, 
                            spice market tours, and traditional tea ceremonies with local families.
                        </p>
                        <div class="mt-3">
                            <span class="badge bg-danger bg-opacity-10 text-danger me-2 mb-2">Cooking</span>
                            <span class="badge bg-danger bg-opacity-10 text-danger me-2 mb-2">Spices</span>
                            <span class="badge bg-danger bg-opacity-10 text-danger mb-2">Tea Ceremony</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Events -->
{% if events %}
<section class="py-5">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">Upcoming Cultural Events</h2>
                <p class="lead text-muted">Join authentic experiences celebrating Morocco's rich heritage and vibrant culture</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{{ url_for('events') }}" class="btn btn-primary btn-lg">
                    <i class="bi bi-arrow-right me-2"></i>View All Events
                </a>
            </div>
        </div>
        
        <div class="row g-4">
            {% for event in events[:3] %}
            <div class="col-lg-4 col-md-6">
                <div class="card h-100 fade-in-up">
                    <div class="card-img-top position-relative overflow-hidden" style="height: 200px; background: linear-gradient(45deg, var(--atlas-blue), var(--deep-indigo));">
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            {% if event.category == 'sustainable' %}
                                <i class="bi bi-tree text-white" style="font-size: 3rem; opacity: 0.8;"></i>
                            {% elif event.category == 'cultural' %}
                                <i class="bi bi-palette text-white" style="font-size: 3rem; opacity: 0.8;"></i>
                            {% else %}
                                <i class="bi bi-people text-white" style="font-size: 3rem; opacity: 0.8;"></i>
                            {% endif %}
                        </div>
                        <div class="position-absolute top-3 start-3">
                            <span class="category-badge {{ event.category }}">
                                {% if event.category == 'sustainable' %}
                                    <i class="bi bi-leaf"></i> Traditional Crafts
                                {% elif event.category == 'cultural' %}
                                    <i class="bi bi-palette"></i> Cultural Heritage
                                {% else %}
                                    <i class="bi bi-people"></i> Community Experience
                                {% endif %}
                            </span>
                        </div>
                        <div class="position-absolute bottom-3 end-3">
                            <span class="badge bg-white text-dark fw-bold">
                                {% if event.price > 0 %}
                                    ${{ "%.0f"|format(event.price) }}
                                {% else %}
                                    Free
                                {% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ event.title }}</h5>
                        <p class="card-text text-muted">{{ event.description[:120] }}...</p>
                        <div class="d-flex align-items-center justify-content-between mt-3">
                            <div class="text-muted small">
                                <i class="bi bi-calendar-event me-1"></i>
                                {{ event.date_time.strftime('%b %d, %Y') }}
                            </div>
                            <div class="text-muted small">
                                <i class="bi bi-geo-alt me-1"></i>
                                {{ event.city }}
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <small class="text-success">
                                <i class="bi bi-people me-1"></i>
                                {{ event.available_spots }} spots left
                            </small>
                            <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn btn-outline-primary btn-sm">
                                Learn More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Destinations Section -->
<section class="py-5 bg-gradient-primary text-white">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Explore Morocco's Hidden Gems</h2>
            <p class="lead opacity-90">Discover authentic experiences in Morocco's most enchanting destinations</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-building-check text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Marrakech Medina</h5>
                    <p class="opacity-90">Experience the bustling souks, traditional riads, and ancient palaces of the Red City</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-water text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Chefchaouen</h5>
                    <p class="opacity-90">Wander through the blue-painted streets and discover mountain Berber culture</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-mortarboard text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Fes El Bali</h5>
                    <p class="opacity-90">Explore the world's largest car-free urban area and ancient Islamic learning centers</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="text-center">
                    <div class="bg-white bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                        <i class="bi bi-sun text-secondary" style="font-size: 2.5rem;"></i>
                    </div>
                    <h5>Sahara Desert</h5>
                    <p class="opacity-90">Experience nomadic traditions, camel trekking, and stargazing in golden dunes</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Community Clubs -->
{% if clubs %}
<section class="py-5">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-3">Join Cultural Communities</h2>
                <p class="lead text-muted">Connect with passionate groups preserving and celebrating Moroccan heritage</p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{{ url_for('clubs') }}" class="btn btn-secondary btn-lg">
                    <i class="bi bi-arrow-right me-2"></i>View All Clubs
                </a>
            </div>
        </div>
        
        <div class="row g-4">
            {% for club in clubs[:3] %}
            <div class="col-lg-4">
                <div class="card h-100 fade-in-up">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary bg-opacity-10 rounded-circle p-3 me-3">
                                {% if club.category == 'sustainable' %}
                                    <i class="bi bi-tree text-success" style="font-size: 1.5rem;"></i>
                                {% elif club.category == 'cultural' %}
                                    <i class="bi bi-palette text-warning" style="font-size: 1.5rem;"></i>
                                {% else %}
                                    <i class="bi bi-people text-danger" style="font-size: 1.5rem;"></i>
                                {% endif %}
                            </div>
                            <div>
                                <h5 class="card-title mb-1">{{ club.name }}</h5>
                                <span class="category-badge {{ club.category }}">
                                    {% if club.category == 'sustainable' %}
                                        <i class="bi bi-leaf"></i> Traditional Arts
                                    {% elif club.category == 'cultural' %}
                                        <i class="bi bi-palette"></i> Cultural Heritage
                                    {% else %}
                                        <i class="bi bi-people"></i> Community
                                    {% endif %}
                                </span>
                            </div>
                        </div>
                        <p class="card-text text-muted">{{ club.description[:100] }}...</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <small class="text-muted">
                                <i class="bi bi-geo-alt me-1"></i>{{ club.city }}
                            </small>
                            <a href="{{ url_for('club_detail', club_id=club.id) }}" class="btn btn-outline-primary btn-sm">
                                Join Community
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Testimonials Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3 text-gradient">Stories from Our Community</h2>
            <p class="lead text-muted">Discover how authentic Moroccan experiences have touched the lives of our members</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"Learning traditional pottery from a master craftsman in Fes was transformative. The connection to centuries-old traditions gave me a profound appreciation for Moroccan artistry."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Amira Hassan</h6>
                                <small class="text-muted">Cultural Arts Enthusiast</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"The traditional cooking class opened my eyes to the rich history behind every spice and technique. Now I can recreate authentic Moroccan flavors at home."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-success rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Carlos Rodriguez</h6>
                                <small class="text-muted">Culinary Heritage Explorer</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card border-0 h-100 shadow-sm">
                    <div class="card-body p-4">
                        <div class="text-warning mb-3">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <p class="mb-4">"Joining the storytelling circle introduced me to ancient Moroccan tales and connected me with a community that values preserving cultural heritage."</p>
                        <div class="d-flex align-items-center">
                            <div class="bg-warning rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                <i class="bi bi-person text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Fatima Al-Zahra</h6>
                                <small class="text-muted">Heritage Storyteller</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5 bg-gradient-secondary text-dark">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="display-5 fw-bold mb-4">Begin Your Authentic Moroccan Journey</h2>
                <p class="lead mb-4">
                    Join thousands of culture enthusiasts discovering the authentic beauty of Morocco 
                    through traditional experiences, community connections, and heritage celebrations.
                </p>
                <div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg px-4">
                            <i class="bi bi-compass me-2"></i>Start Your Cultural Journey
                        </a>
                        <a href="{{ url_for('events') }}" class="btn btn-outline-dark btn-lg px-4">
                            <i class="bi bi-calendar-event me-2"></i>Browse Cultural Events
                        </a>
                    {% else %}
                        <a href="{{ url_for('create_club') }}" class="btn btn-primary btn-lg px-4">
                            <i class="bi bi-plus-circle me-2"></i>Create a Cultural Club
                        </a>
                        <a href="{{ url_for('create_event') }}" class="btn btn-outline-dark btn-lg px-4">
                            <i class="bi bi-calendar-plus me-2"></i>Host an Experience
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}